{
  "permissions": {
    "allow": [
      "Bash(git clone:*)",
      "Bash(git init:*)",
      "Bash(git remote add:*)",
      "Bash(git fetch:*)",
      "Bash(git checkout:*)",
      "Bash(git pull:*)",
      "Bash(vercel --version:*)",
      "WebFetch(domain:vercel.com)",
      "Bash(ls:*)",
      "Bash(grep:*)",
      "Bash(npm run build:*)",
      "Bash(find:*)",
      "Bash(for file in app/api/billing/credits/route.ts app/api/billing/model-preferences/route.ts app/api/brand/chat/route.ts app/api/brand/generate-logo/route.ts app/api/brand/import/route.ts app/api/content/ai-assist/post/route.ts app/api/content/ai-assist/script/route.ts app/api/content/generate/queue/route.ts app/api/marketing/generate/batch/route.ts app/api/marketing/generate/batch/status/route.ts app/api/models/available/route.ts lib/content-engine/generate-content.ts lib/content-engine/generate-post-content.ts lib/content-engine/generate-script.ts lib/content-engine/queue-service.ts lib/marketing/ad-generation.ts lib/marketing/compliance/image-analyzer.ts)",
      "Bash(do sed -i \"s|from ''@/lib/ai''|from ''@/lib/ai/server''|g\" \"$file\")",
      "Bash(done)",
      "Bash(git add:*)",
      "Bash($amount\" format \\(remove \"spent\" word\\)\n- Create helper functions: creditsToUSD, creditsToRealCost, calculateProfitFromCredits\n\nPLATFORM MANAGEMENT:\n- Add admin-only \"Platform Management\" tab to billing page\n- Show real API costs vs sales revenue with 100% markup\n- Display profit margin calculations \\(revenue - cost\\)\n- Add platform configuration display \\(markup, exchange rate, formulas\\)\n- Provide visual breakdown: Red \\(costs\\), Green \\(revenue\\), Gold \\(profit\\)\n- Include quick reference guide and markup strategy explanation\n\nTECHNICAL IMPROVEMENTS:\n- Refactor AI module exports to separate client-safe and server-only code\n- Create lib/ai/utils.ts for client-safe credit utilities\n- Create lib/ai/server.ts for server-only AI functions\n- Update all API routes to use new import structure\n- Add mobile-first design principles to README\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd URL parameter tracking for tabs/filters and fix server/client imports\n\nThis commit implements two major improvements:\n\n1. URL Parameter Tracking\n   - All pages with tabs/filters now reflect state in URL query parameters\n   - Updated pages: team, billing, content reviews, publish log, marketing audiences, campaigns, admin meetings, admin user detail\n   - Users can now share, bookmark, and navigate back/forward through specific views\n   - Created CONVENTIONS.md to document the URL parameter pattern\n   - Examples: /team?tab=credits, /billing?tab=invoices, /content/publish-log?status=failed&platform=linkedin\n\n2. Server/Client Component Separation\n   - Fixed build error: \"You 're importing a component that needs next/headers\"\n   - Separated AI utilities into client-safe and server-only exports\n   - Created lib/ai/utils.ts for pure client-safe functions \\(creditsToUSD, formatCreditsToUSD\\)\n   - Created lib/ai/server.ts for server-only functions \\(checkCredits, resolveModel, etc.\\)\n   - Updated lib/ai/index.ts to only export client-safe code\n   - Updated all API routes and server utilities to import from @/lib/ai/server\n   - Build now compiles successfully without server/client import conflicts\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git config:*)",
      "Bash(git push:*)",
      "Bash(echo:*)",
      "Bash(git commit:*)",
      "Bash(cat:*)",
      "WebFetch(domain:www.hootsuite.com)",
      "Bash(git restore:*)",
      "Bash($20.00\"\n- Shows credit balance and sales value \\(buy price at 2x markup\\)\n- Sales value calculated using formatCreditsToUSD\\(\\)\n\nSuper Admins:\n- Display format: \"15000 cr)",
      "Bash($150.00\"\n- Shows total credits in ENTIRE SYSTEM \\(all orgs\\)\n- Shows actual API cost \\(not sales value\\) for all orgs\n- Tooltip: \"System Total: X credits)",
      "Bash(API Cost: $Y)",
      "Bash(Credits tracked, never blocked\"\n\nChanges:\n- Update API endpoint to aggregate system-wide credits and costs for super admins\n- Add systemTotalCredits and systemTotalCostUSD fields to CreditBalance interface\n- Update header display to show \"X cr)",
      "Bash($Y\" format for both user types\n- Mobile view shows abbreviated \"Xk cr\" format\n\nTechnical Details:\n- API queries all credit_balances and ai_usage tables for super admin\n- Regular users see their org''s balance with sales pricing\n- Super admins see global totals with actual API costs\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
